<section ng-show="showAdvancedSearch">
        <div ng-show="minimizeAdvanced">
          <h4>Advanced Search</h4>
        </div>

        <div class="row advanced-search-content" ng-hide="minimizeAdvanced">

          <div class="col-xs-7">
            <h4>Advanced Search</h4>
            <div ng-repeat="f in advancedSearch.filters" class="form-inline advanced-filter" ng-class="{first:$first}" >
              <!--if no extent filter exists yet -->
              <select  ng-model="f.type" ng-options="o.label for o in f.types" ng-change="advancedSearch.setHasExtent()" ng-if="!advancedSearch.hasExtent || f.type.label == 'Bounding Box'">

              </select>

              <!--if extent filter exists, filter extent option out -->
              <select  ng-model="f.type" ng-options="o.label for o in f.types | filter:{label :'!Bounding Box'}" ng-change="advancedSearch.setHasExtent()" ng-if="advancedSearch.hasExtent && f.type.label != 'Bounding Box'">

              </select>

              <div ng-if="f.type.id == 'title'" class="form-group">
                
                <select  ng-model="f.constraint" ng-options="o.label for o in f.constraints track by o.id">

                </select>
                <input  id="exampleInputName2" placeholder="Search term" ng-model="f.term"> 
              </div>

              <select ng-if="f.type.id == 'extent'" ng-model="f.extentConstraint" ng-options="o.label for o in f.extentConstraints"></select>

              

              <div ng-if="f.type.id == 'extent'">
                <label class="small highlight" ng-if="f.type.id == 'extent'">Hold "Shift" to select extent on map, or eventer values below</label>
                <div class="clearfix"></div>

                <div class="coord-input"><label class="small">min Long</label><input type="number" ng-model="advancedSearch.filters[$index].extent[0]" ng-change="updateExtent()" ></div>
                <div class="coord-input"><label class="small">min Lat</label><input type="number" ng-model="advancedSearch.filters[$index].extent[1]" ng-change="updateExtent()"></div>
                <div class="coord-input"><label class="small">max Long</label><input type="number" ng-model="advancedSearch.filters[$index].extent[2]" ng-change="updateExtent()"></div>
                <div class="coord-input"><label class="small">max Lat</label><input type="number" ng-model="advancedSearch.filters[$index].extent[3]" ng-change="updateExtent()"></div>

                <div class="clearfix"></div>
              </div>

              <div class="add-remove-buttons">
                <a href="#" ng-click="advancedSearch.addFilter()" ng-if="$index == advancedSearch.filters.length - 1"><span class="glyphicon glyphicon-plus"></span></a>
                <a href="#" ng-click="advancedSearch.removeFilter($index)" ng-if="advancedSearch.filters.length > 1"><span class="glyphicon glyphicon-minus"></span></a>
              </div>
            </div>

            <div style="margin-top:12px;">

              <button class="btn btn-warning" ng-click="submitSearch('advanced')">Search</button>
              <a href="#" class="sm" style="padding: 4px 0 0 12px;" ng-click="advancedSearch.clear()">Reset</a> 
              <a href="#" class="sm" style="padding: 4px 0 0 12px;" ng-click="showAdvancedSearch = !showAdvancedSearch">Basic Search</a>
            </div>
          </div><!-- /.col-xs-6 -->
          <div class="col-xs-5">
            <a href="#" class="pull-right" ng-click="clearExtent()" ng-hide="advancedSearch.extent.extent == defaultExtent">clear</a>
            
            <div class="clearfix"></div>
            <div style="width: 100%; min-height: 1px;">
              <div id="adv-search-map" class="map" ng-show="advancedSearch.hasExtent"></div>
            </div>






                
          </div>


          
        </div>

      

        
      </section>